<h1><center>Community Visualization</center></h1>


<%= form_tag({controller: "visualization", action: "parse_view"}, method: "post") do %>

<center>
<table>

  <tr>
  	<td valign='top'>Choose:<br>
	  <div id='choose_viz'>
        <%= radio_button_tag(:view, 'heatmap') %>
		<%= label_tag(:view_heatmap, "Heatmap") %>
		<br>
        <%= radio_button_tag(:view, 'tax_table', true) %>
		<%= label_tag(:view_tax_table, "Tax Table") %>
		<br>
        <%= radio_button_tag(:view, 'bar_charts') %>
		<%= label_tag(:view_bar_charts, "Bar Charts") %>
    <br><hr>

    <%= button_tag("Submit") %>
    
    </div>
  	</td>

    <td valign='top'>
    <div style='width:300px;height:500px;overflow:auto;'>


      
        Projects 
         
        <% all_projects = Project.all %>
      <ul>
      <% all_projects.each do |project| %>
      <li>
        <label class="dataset-select">
          <%= check_box_tag project, project.id, false, :onclick=>"open_datasets('#{project.id}')"%>
          <%= project.project %>
        </label>  
          <ul>
          <div id='<%= project.id %>' style='width:300px;display:none;'>  
          <% project.datasets.each do |dataset| %>
          <li>
          <label class="dataset-select">
            <%= check_box_tag dataset, dataset.id, false %>
            <%= dataset.dataset %>
          </label>
          </li>
          <% end %>
          </div>
          </ul>
          
      </li>
      <% end %>
      </ul>
      
      
      
    
  </div>

    </td>
    <td valign='top'>Basic Taxonomy
      <div id='basic_taxonomy_selector' >
        <%= render "simple_taxonomy" %>    
      </div>
    </td>





  </tr>
</table>
</center>


<% end %>

<br>


